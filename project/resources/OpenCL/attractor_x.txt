kernel void			attractor_execute(
					global int *number_of_objects,
					global object_type *object_type,
                    global vector3 *object_position,
                    global char *is_alive,
					global vector3 *position,
					global vector3 *velocity,
					global vector3 *acceleration)
{
	const int		global_id = get_global_id(0);
	const float		time = 2.f;

	vector3			direction;
	vector3			force;
	float			distance_squared;
	float			strength;

	for (int object_i = 0; object_i < *number_of_objects; object_i++)
    {
    	if (object_type[object_i] != object_type_attractor && object_type[object_i] != object_type_consumer)
    		continue ;

		direction = vector3_subtract(object_position[object_i], position[global_id]);

		distance_squared = vector3_length_squared(direction);
		distance_squared = CLAMP(distance_squared, 15, 80);
		strength = time / distance_squared;

		force = vector3_normalize(direction);
		force = vector3_multiply(force, strength);

		acceleration[global_id] = vector3_add(acceleration[global_id], force);
	}
}